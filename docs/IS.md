# IS.md ‚Äî Instance Send (IS) Module

## üß† –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ú–æ–¥—É–ª—å `IS` (Instance Send) —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –Ω–µ–¥–µ–ª–∏–º–æ–π —Å–∏—Å—Ç–µ–º—ã `IRS` (Instance Read Send) –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–µ—Ç–µ–≤—É—é –∫–∞—Ä—Ç—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `AF_XDP`.

IS —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç—Ä–æ–≥–æ –≤ –ø–∞—Ä–µ —Å–æ —Å–≤–æ–∏–º `IR` –∏ –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á—É–∂–∏–º IR. –í—Å—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è IS –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ `send`, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ IS

- –†–∞–±–æ—Ç–∞–µ—Ç **–Ω–∞ –æ–¥–Ω–æ–º —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º —è–¥—Ä–µ** –≤ —Ä–∞–º–∫–∞—Ö —Å–≤–æ–µ–π –ø–∞—Ä—ã `IRS`
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `send == true` –∏ `IR.preparationIsOver == true`
- –ß–∏—Ç–∞–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É —Å–≤–æ–µ–≥–æ IR –∏–∑ –¥–≤–æ–π–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞ (A/B)
- –°–æ–∑–¥–∞—ë—Ç **–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä** (snapshot) –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏:
    - —Ç–µ–º —Å–∞–º—ã–º –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç IR –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –µ–º—É –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É
- –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ñ–ª–∞–≥ `IR.preparationIsOver = false` –ø–æ—Å–ª–µ –∑–∞—Ö–≤–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `AF_XDP` (–æ–¥–∏–Ω–æ—á–Ω—ã–π —Ñ—Ä–µ–π–º)
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç `send = false`
- **–ù–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞–ø—Ä—è–º—É—é** —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ç–æ—Ä–æ–º –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

---

## üì¶ IS Contract

`IS Contract` –æ–ø–∏—Å—ã–≤–∞–µ—Ç:
- —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö IR-–¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ IS –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω—è—Ç—å
- –∏–∑ –∫–∞–∫–æ–≥–æ –±—É—Ñ–µ—Ä–∞ (A –∏–ª–∏ B) –æ–Ω –¥–æ–ª–∂–µ–Ω —á–∏—Ç–∞—Ç—å
- –≤ –∫–∞–∫–æ–º –≤–∏–¥–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è snapshot (—É–∫–∞–∑–∞—Ç–µ–ª—å, –∫–æ–ø–∏—è, —Å–¥–≤–∏–≥)
- –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö: –∑–∞–≥–æ–ª–æ–≤–∫–∏, —Ñ–ª–∞–≥–∏, –ø–æ–ª—è

–ö–æ–Ω—Ç—Ä–∞–∫—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–º–µ–∂–º–æ–¥—É–ª—å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ** –º–µ–∂–¥—É IR –∏ IS, –Ω–æ **–Ω–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ IS –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö** ‚Äî —ç—Ç–æ –∑–∞–¥–∞—á–∞ `IS Protocol`.

---

## üìú IS Protocol

`IS Protocol` ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∞—è:

- —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ `send == true`, –Ω–æ `IR.preparationIsOver == false` (‚Üí **–æ–∂–∏–¥–∞–Ω–∏–µ**)
- –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞ IR
- –∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å `IR.preparationIsOver = false` –ø–æ—Å–ª–µ –∑–∞—Ö–≤–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ `AF_XDP` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å TX ring)
- –∫–æ–≥–¥–∞ —Å—á–∏—Ç–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–π
- –º–æ–º–µ–Ω—Ç —Å–±—Ä–æ—Å–∞ `send = false` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏

IS —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç—Ä–æ–≥–æ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É, —Å–æ–±–ª—é–¥–∞—è –ø–æ—Ä—è–¥–æ–∫ —Ñ–ª–∞–≥–æ–≤ –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≤–Ω–µ—à–Ω–µ–π –ª–æ–≥–∏–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞.

---

## üîÅ –†–∞–±–æ—Ç–∞ —Å –±—É—Ñ–µ—Ä–∞–º–∏

- –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è `send == true`, IS:
    1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `IR.preparationIsOver == true`
    2. –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞ (A –∏–ª–∏ B)
    3. –°–æ–∑–¥–∞—ë—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π snapshot (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –∏–ª–∏ –∫–æ–ø–∏—é)
    4. –°—Ä–∞–∑—É —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç `IR.preparationIsOver = false` ‚Äî —Ä–∞–∑—Ä–µ—à–∞–µ—Ç IR –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É
- Snapshot IS –±—É—Ñ–µ—Ä–∞:
    - **–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** –º–µ–∂–¥—É –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏
    - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω—É–ª–µ–Ω–∏—è –∏–ª–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
    - –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—ã–∑–æ–≤–µ

–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è IS —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∫–∞–∫ **—Ü–∏–∫–ª–∏—á–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º—ã–π –±—É—Ñ–µ—Ä**, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥ MTU.

---

## üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ AF_XDP

- IS –≤—Å–µ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **–æ–¥–∏–Ω —Ñ—Ä–µ–π–º –∑–∞ –∏—Ç–µ—Ä–∞—Ü–∏—é**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç MTU (–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è IR)
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–∑–æ–≤–æ–≤:
    1. `xsk_ring_prod__reserve`
    2. –∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –≤ slot
    3. `xsk_ring_prod__submit`
- –ù–µ—Ç –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ IS

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª IS

1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞: `send == true`
2. –ü—Ä–æ–≤–µ—Ä–∫–∞: `IR.preparationIsOver == true`
3. –ó–∞—Ö–≤–∞—Ç –¥–∞–Ω–Ω—ã—Ö (snapshot –±—É—Ñ–µ—Ä–∞ A –∏–ª–∏ B)
4. –°–±—Ä–æ—Å `IR.preparationIsOver = false`
5. –û—Ç–ø—Ä–∞–≤–∫–∞ snapshot —á–µ—Ä–µ–∑ `AF_XDP`
6. –°–±—Ä–æ—Å `send = false`
7. –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ü–∏–∫–ª—É

---

## üîê –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–∞–≤–∏–ª–∞

- IS —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –æ–¥–Ω–∏–º IR
- –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω, –ø–æ–∫–∞ `send == true`
- –ù–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–ª–∞–≥–∞–º –¥—Ä—É–≥–∏—Ö IRS
- –ù–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–º—è—Ç–∏ IR –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ —Å–∏–≥–Ω–∞–ª—É `send == true` –æ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞
- –û–±—è–∑–∞–Ω–∞ —Å–æ–±–ª—é–¥–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤ `IS Protocol`

---

## üìò –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è

| –¢–µ—Ä–º–∏–Ω         | –û–ø–∏—Å–∞–Ω–∏–µ                                                                |
|----------------|-------------------------------------------------------------------------|
| **IS Contract**     | –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—É—é IR –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç IS                     |
| **IS Protocol**     | –ü–æ–≤–µ–¥–µ–Ω–∏–µ IS –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–ª–∞–≥–æ–≤, —Ä–∞–±–æ—Ç–µ —Å –±—É—Ñ–µ—Ä–∞–º–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–µ      |
| **AF_XDP**          | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π IS –ø–µ—Ä–µ–¥–∞—ë—Ç —Ñ—Ä–µ–π–º—ã –≤ —Å–µ—Ç–µ–≤—É—é –∫–∞—Ä—Ç—É          |

---