# IR.md ‚Äî Instance Read (IR) Module

## üß† –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ú–æ–¥—É–ª—å `IR` (Instance Read) —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –Ω–µ–¥–µ–ª–∏–º–æ–π –µ–¥–∏–Ω–∏—Ü—ã `IRS` (Instance Read Send). –ï–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ shared memory (–Ω–∞–ø—Ä–∏–º–µ—Ä, ring buffer), –∏—Ö –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –ø–æ–Ω—è—Ç–Ω—É—é –¥–ª—è `IS` (Instance Send).

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ IR

- –ü—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É IRS –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç **–Ω–∞ –æ–¥–Ω–æ–º —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º —è–¥—Ä–µ**
- –û–±–ª–∞–¥–∞–µ—Ç **—É–Ω–∏–∫–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é –ø–∞–º—è—Ç–∏ –¥–ª—è —á—Ç–µ–Ω–∏—è**, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π –¥—Ä—É–≥–∏–º IR
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ **IR –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É** (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–π—Ç–æ–≤) –∏ **IR –ø—Ä–æ—Ç–æ–∫–æ–ª—É** (–ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–¥–≤–æ–π–Ω—É—é –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—é** (A/B –±—É—Ñ–µ—Ä—ã) –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç–∏ —Å IS
- –í—ã—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ–ª–∞–≥ `preparationIsOver = true` –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
- –ù–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–ª–∞–≥—É `send` ‚Äî –µ–≥–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤–Ω–µ—à–Ω—è—è —Å–∏—Å—Ç–µ–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ç–æ—Ä)
- –§–ª–∞–≥ `preparationIsOver` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–±—Ä–æ—à–µ–Ω **—Ç–æ–ª—å–∫–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º IS**

---

## üì¶ IR Contract

`IR Contract` ‚Äî —ç—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–∂–∏–¥–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

- —Å–∫–æ–ª—å–∫–æ –±–∞–π—Ç–æ–≤ IR –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∑–∞ –æ–¥–Ω—É –∏—Ç–µ—Ä–∞—Ü–∏—é
- –≥–¥–µ –≤ —ç—Ç–∏—Ö –±–∞–π—Ç–∞—Ö –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è:
    - –∑–∞–≥–æ–ª–æ–≤–æ–∫
    - –∞–¥—Ä–µ—Å–∞
    - –ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
- –ø—Ä–∞–≤–∏–ª–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –±–∞–π—Ç–æ–≤ (–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è)
- –∫–æ–Ω–µ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –º–∞—Å—Å–∏–≤, –æ–±—ä–µ–∫—Ç)

–ö–æ–Ω—Ç—Ä–∞–∫—Ç **–Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ**, —Ç–æ–ª—å–∫–æ **–æ–∂–∏–¥–∞–µ–º—É—é —Å—Ö–µ–º—É –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**.

---

## üìú IR Protocol

`IR Protocol` ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∞—è:

- —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–π—Ç–æ–≤ –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
- –∫–∞–∫ –¥–æ–ª–≥–æ –æ–∂–∏–¥–∞—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- —Å–∫–æ–ª—å–∫–æ –ø–æ–≤—Ç–æ—Ä–æ–≤ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è
- –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º)
- –¥–æ–ø—É—Å—Ç–∏–º—ã –ª–∏ –ø–∞—É–∑—ã –∏–ª–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
- –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ –æ—à–∏–±–æ–∫

–ü—Ä–æ—Ç–æ–∫–æ–ª –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–º –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π IRS, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏–ª–∏ —É—Ä–æ–≤–Ω–µ–π QoS.

---

## üîÅ –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è

–ú–æ–¥—É–ª—å IR –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–¥–≤–æ–π–Ω—É—é –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—é**:

- –ò–º–µ–µ—Ç –¥–≤–∞ —Ä–∞–±–æ—á–∏—Ö –±—É—Ñ–µ—Ä–∞: `A` –∏ `B`
- –í –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ IR –ø–∏—à–µ—Ç –≤ –æ–¥–∏–Ω –±—É—Ñ–µ—Ä, –∞ IS –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –¥—Ä—É–≥–æ–π
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏, –±—É—Ñ–µ—Ä "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç—Å—è", –∏ IR –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –≤—Ç–æ—Ä–æ–π

–¶–µ–ª—å: **–æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–ª–Ω—É—é –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã IR –∏ IS**, –∏–∑–±–µ–∂–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ –æ–∂–∏–¥–∞–Ω–∏–π.

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª IR

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞ `preparationIsOver == false`
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π `IR Protocol` (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞)
3. –ß—Ç–µ–Ω–∏–µ –±–∞–π—Ç–æ–≤ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ring buffer)
4. –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ–≥–ª–∞—Å–Ω–æ `IR Contract`
5. –ó–∞–ø–∏—Å—å –≤ —Ç–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π –±—É—Ñ–µ—Ä (A –∏–ª–∏ B)
6. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–∞ `preparationIsOver = true`
7. –û–∂–∏–¥–∞–Ω–∏–µ —Å–±—Ä–æ—Å–∞ —Ñ–ª–∞–≥–∞ `preparationIsOver` (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ IS)
8. –ü–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞

---

## üîê –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–∞–≤–∏–ª–∞

- IR –Ω–µ –º–æ–∂–µ—Ç:
    - —á–∏—Ç–∞—Ç—å —á—É–∂–∏–µ –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏
    - —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å —Å–≤–æ–π —Ñ–ª–∞–≥ `preparationIsOver`
    - –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –∏–ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å IS
- –í—Å–µ —Ñ–ª–∞–≥–∏ –≤—ã—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —è–≤–Ω–æ, –≤ –ø–∞–º—è—Ç–∏, —á–µ—Ä–µ–∑ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –∏–ª–∏ –±–∞—Ä—å–µ—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –±—É—Ñ–µ—Ä–∞ –æ—Ç IR –∫ IS —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ IRS

---

## üìò –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è

| –¢–µ—Ä–º–∏–Ω         | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
|----------------|--------------------------------------------------------------------------|
| **IR Contract**     | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–∂–∏–¥–∞–µ–º—ã—Ö –±–∞–π—Ç–æ–≤: –≥–¥–µ –∏ —Å–∫–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å, –∫–∞–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å |
| **IR Protocol**     | –ü–æ–≤–µ–¥–µ–Ω–∏–µ IR –≤ —Å–ª—É—á–∞–µ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–π–º–∞—É—Ç–æ–≤, –ø–æ–≤—Ç–æ—Ä–æ–≤           |
| **IS Contract**     | –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ IR –≥–æ—Ç–æ–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è IS                         |
| **IS Protocol**     | –ü–æ–≤–µ–¥–µ–Ω–∏–µ IS –ø—Ä–∏ —Ñ–ª–∞–≥–∞—Ö, –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏, —Ä–∞–±–æ—Ç–µ —Å IR                    |

---